<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2017-02-17 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170217" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Providence &#x2013; The Generated Java Interface</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/morimekta/providence">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Providence Generator : Java</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="publishDate">Last Published: 2017-02-17
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.3.10
                      </li>
                      
              
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Project Documentation</li>
                                                                                                                              
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-down"></span>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                    
      <li>
  
                          <a href="license.html" title="Licenses">
          <span class="none"></span>
        Licenses</a>
            </li>
                    
      <li>
  
                          <a href="team-list.html" title="Team">
          <span class="none"></span>
        Team</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">Introduction</li>
                              
      <li>
  
                          <a href="../index.html" title="Providence">
          <span class="none"></span>
        Providence</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/morimekta/providence/releases" class="externalLink" title="Downloads & Releases">
          <span class="none"></span>
        Downloads & Releases</a>
            </li>
                              <li class="nav-header">Modules</li>
                              
      <li>
  
                          <a href="../providence-core/index.html" title="Core">
          <span class="none"></span>
        Core</a>
            </li>
                
      <li>
  
                          <a href="../providence-core-client/index.html" title="Core : Client">
          <span class="none"></span>
        Core : Client</a>
            </li>
                
      <li>
  
                          <a href="../providence-core-server/index.html" title="Core : Server">
          <span class="none"></span>
        Core : Server</a>
            </li>
                
      <li>
  
                          <a href="../providence-reflect/index.html" title="Utils : Reflect">
          <span class="none"></span>
        Utils : Reflect</a>
            </li>
                
      <li>
  
                          <a href="../providence-thrift/index.html" title="Utils : Thrift Bridge">
          <span class="none"></span>
        Utils : Thrift Bridge</a>
            </li>
                
      <li>
  
                          <a href="../providence-testing/index.html" title="Utils : Testing">
          <span class="none"></span>
        Utils : Testing</a>
            </li>
                
      <li>
  
                          <a href="../providence-config/index.html" title="Utils : Config">
          <span class="none"></span>
        Utils : Config</a>
            </li>
                
      <li>
  
                          <a href="../providence-jax-rs/index.html" title="Utils : Javax-Ws-Rs">
          <span class="none"></span>
        Utils : Javax-Ws-Rs</a>
            </li>
                
      <li>
  
                          <a href="../providence-generator/index.html" title="Tools : Generator">
          <span class="none"></span>
        Tools : Generator</a>
            </li>
                
      <li>
  
                          <a href="../providence-generator-java/index.html" title="Tools : Generator - Java">
          <span class="none"></span>
        Tools : Generator - Java</a>
            </li>
                
      <li>
  
                          <a href="../providence-generator-json/index.html" title="Tools : Generator - JSON">
          <span class="none"></span>
        Tools : Generator - JSON</a>
            </li>
                
      <li>
  
                          <a href="../providence-maven-plugin/index.html" title="Tools : Maven Plugin">
          <span class="none"></span>
        Tools : Maven Plugin</a>
            </li>
                
      <li>
  
                          <a href="../providence-gradle-plugin.html" title="Tools : Gradle Plugin">
          <span class="none"></span>
        Tools : Gradle Plugin</a>
            </li>
                              <li class="nav-header">CLI Tools</li>
                              
      <li>
  
                          <a href="../providence-tools-converter.html" title="CLI : Converter">
          <span class="none"></span>
        CLI : Converter</a>
            </li>
                
      <li>
  
                          <a href="../providence-tools-rpc.html" title="CLI : RPC Tool">
          <span class="none"></span>
        CLI : RPC Tool</a>
            </li>
                
      <li>
  
                          <a href="../providence-tools-config.html" title="CLI : Config Helper">
          <span class="none"></span>
        CLI : Config Helper</a>
            </li>
                
      <li>
  
                          <a href="../providence-tools-compiler.html" title="CLI : Compiler">
          <span class="none"></span>
        CLI : Compiler</a>
            </li>
                              <li class="nav-header">Generator Options</li>
                              
      <li>
  
                          <a href="../options.html" title="Options Overview">
          <span class="none"></span>
        Options Overview</a>
            </li>
                
      <li>
  
                          <a href="../options-hazelcast.html" title="Hazelcast Portable">
          <span class="none"></span>
        Hazelcast Portable</a>
            </li>
                
      <li>
  
                          <a href="../options-android.html" title="Android Parcelable">
          <span class="none"></span>
        Android Parcelable</a>
            </li>
                
      <li>
  
                          <a href="../options-jackson.html" title="Jackson Annotations">
          <span class="none"></span>
        Jackson Annotations</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="../release.html" title="Release Process">
          <span class="none"></span>
        Release Process</a>
            </li>
                
      <li>
  
                          <a href="../integration-testing.html" title="Integration Testing">
          <span class="none"></span>
        Integration Testing</a>
            </li>
                
      <li>
  
                          <a href="../serializer-binary.html" title="Serializer : Binary">
          <span class="none"></span>
        Serializer : Binary</a>
            </li>
                
      <li>
  
                          <a href="../serializer-fast-binary.html" title="Serializer : Fast Binary">
          <span class="none"></span>
        Serializer : Fast Binary</a>
            </li>
                
      <li>
  
                          <a href="../serializer-json.html" title="Serializer : JSON">
          <span class="none"></span>
        Serializer : JSON</a>
            </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>The Generated Java Interface</h1>
<p>The generated java interface is trying to follow the core java standard as much as possible. There are some exceptions, but these are designed to be non-conflicting with any other possible generated method name, and to separate static and non-static methods without weird naming schemes.</p>
<div class="section">
<h2><a name="Structs"></a>Structs</h2>
<p>All structs implements the <a href="java-library.md#pmessage">PMessage</a> interface, and contains a number of generated methods for accessing content and building new messages. All the objects are generated to be <tt>immutable</tt>, but with use of deeply nested containers that may be broken to some extent. The concept of <tt>simple</tt> messages was introduces to distinguish between structs that completely guarantee immutability, and those that don&#x2019;t. </p>
<div class="section">
<h3><a name="Field_Access"></a>Field Access</h3>
<p>In addition to the methods from <tt>PMessage</tt> interface, a number of accessor methods are generated:</p>

<div class="source">
<div class="source"><pre class="prettyprint">public class MyMessage {
    // Scalar values (all primitive / built-in types plus enums and messages)
    // have a getter and a presence check.

    /**
     * The getter will return the default value if the field is not present.
     * Even required fields that are missing will return a value here for
     * primitive values (except string and binary). The primitive defaults
     * are:
     *
     * bool: false,
     * i8 - i64: 0
     * double: 0.0
     */
    public int getMyField();

    /**
     * The presence check will behave differently based on the presence
     * requirement to field type match. Required values always return true,
     * because in the built object, they are always present. Optional values
     * will return true if and only of the value was set in the builder.
     * And default values (no requirement indicator) will always be present
     * if it's a primitive value, and behave as optional if non-primitive
     * value (string, binary, enum and message).
     */
    public boolean hasMyField();

    // ---- CONTAINERS ----
    // Container fields will behave a little different.

    // TODO(morimekta): This is current NOT the generated behavior. Update
    // code and remove this TODO when done.

    /**
     * (current): Returns empty default-container if not present.
     *
     * The getter should return the container if present, and null if not.
     */
    public List&lt;Integer&gt; getMyContainer();

    /**
     * (current): Not generated. And currently a container is only present
     * if it contains at least 1 entry.
     *
     * The presence check will behave as a standard non-prmimitive scalar presence check.
     */
    public boolean hasMyContainer(); 

    /**
     * The entry count returns the number of entries in the container, and 0
     * if the container is not present.
     */
    public int numMyContainer();
}
</pre></div></div></div>
<div class="section">
<h3><a name="Unions"></a>Unions</h3>
<p>Unions have a special accessor method called <tt>unionField()</tt>. The <tt>unionField()</tt> method returns the field that was set for the union, or null if there was none. It will return one of the <tt>MyMessage._Field</tt> enum values, so it is possible to make a switch statement like:</p>

<div class="source">
<div class="source"><pre class="prettyprint">switch(union.unionField()) {
    case FIRST:
        // ... Do something.
        break;
    case SECOND:
        // ... Do something else.
        break;
}
</pre></div></div></div>
<div class="section">
<h3><a name="Building_and_Mutating_Messages"></a>Building and Mutating Messages</h3>
<p>Since the generated messages are immutable (they are never proper Java beans), new messages has to be built using the associated <tt>Builder</tt>. The builder can be instantiated in three ways:</p>

<div class="source">
<div class="source"><pre class="prettyprint">// Use these:
MyMessage._Builder builder = MyMessage.builder();
MyMessage._Builder mutator = my_message.mutate();

// This is primarily there to let serializers etc have access to the message
// builders.
MyMessage._Builder builder = MyMessage.kDescriptor.factory().builder();
</pre></div></div>
<p>The <tt>Builder</tt> extends the PMessageBuilder class, and will in addition have a set of methods generated as field setters.</p>

<div class="source">
<div class="source"><pre class="prettyprint">// This is an inner class of MyMessage.
public static class _Builder {
    /**
     * The field setter will set the field value. For non-primitive values,
     * setting it to null will be the same as clearing the field. Primitive
     * fields will only use the primitivy value type, and explicitly set
     * the value.
     */
    public _Builder setMyField(int value);

    /**
     * Clearing the field value back to null or the default value. A cleared
     * field is explicitly not set after the call.
     */
    public _Builder clearMyField();

    // ---- CONTAINERS ----

    /**
     * Explicitly setting the value and content of the container. This will
     * have as argument the most generic interface available for the desired
     * container (java.util.Collection for list and set, and java.util.Map
     * for map fields). Content is always replaced, and a null value is equal
     * to clearMyContainer().
     */
    public _Builder setMyContainer(Collection&lt;Integer&gt; value);

    /**
     * Same as the default version.
     */
    public _Builder clearMyContainer();

    // -- lists and sets --

    /**
     * (current): Containers are only present if containing items.
     *
     * Add entries to the list or set. The field is present even if no values
     * were given, and is still empty. Values must be valid, otherwise
     * ClassCastException is thrown.
     */
    public _Builder addToMyContainer(int... values);

    // -- maps --

    /**
     * (current): Containers are only present if containing items.
     *
     * Put the key / value pair into the map. The field is marked as present
     * (key / value pair must be valid, otherwise ClassCastException is
     * thrown).
     */
    public _Builder putInMyContainer(int key, int value);
}
</pre></div></div>
<p>When the <tt>Builder</tt> has been updated, you can call <tt>build()</tt> which builds and returns the message regardless. Calling <tt>valid()</tt> will return true if and only if the requirement of every field has been met (required fields must have been set, others are not checked). Note that this makes it possible to build invalid messages.</p>
<p>When setting a field value in a union builder, then that field becomes the current field of the union, thus effectively unsets all other fields. This way the <i>last</i> field set on a union builder, becomes it&#x2019;s value.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                          <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-3087264-4', 'auto');
                ga('send', 'pageview');
            </script>
                </div>

        
                </div>
    </footer>
        </body>
</html>
